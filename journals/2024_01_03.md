- [MySQL的多版本控制MVCC](https://segmentfault.com/a/1190000037557620) #MySQL
	- Multiversion Concurrency Control，通过保存数据在某个时间点的快照来实现并发控制。可以认为MVCC是行级锁的一个变种，很多情况避免了加锁操作，开销更低。
	- InnoDB的MVCC采用了基于乐观锁思想的方式，读取数据时并不需要加锁，写操作也只锁定必要的行。
	- 在REPEATABLE READ级别下：
		- SELECT
			- InnoDB只查找版本早于当前事务版本的数据行。
			- 行的删除版本要么未定义，要么大于当前版本号，防止读取的行已被删除。
		- INSERT
			- 为新插入的每一行保存当前系统版本号作为行版本号。
		- DELETE
			- 为删除的每一行保存当前系统版本号作为行删除表示。
		- UPDATE
			- 保存当前系统版本号作为行版本号，同时保存当前系统版本号到原来的行作为行删除标识。
- 乐观锁和悲观锁 #database
	- 属于并发控制的概念，用于处理多个事务访问共享资源可能遇到的冲突。属于数据库系统和分布式系统的并发控制机制。
	- 乐观锁
		- 是一种假设冲突较少的机制，它不采用显示的锁定，而是在事务提交前进行冲突检查。系统假设事务之间的冲突较少，因此允许多个事务同时读取和修改数据。
	- 悲观锁
		- 是一种假设冲突较多的机制，它采用显示的锁定，防止其他事务访问相同的数据，其他事务需要等待锁的释放。