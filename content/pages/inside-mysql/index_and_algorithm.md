# 第五章 索引与算法

## 5.1 InnoDB存储引擎索引概述

- B+树索引
- 全文索引
- 哈希索引

B+树类似于二叉树，从平衡二叉树演化而来，根据键值快速查找到数据。
B+树能找到的只是被查找数据行所在的页。然后数据库把页读入到内存，再在内存中查找具体的数据。

## 5.2 数据结构与算法

### 二分查找法（binary search）

每页Page Directory中的槽是按照主键的顺序存放的，对于某一条具体记录的查询是通过对Page Directory进行二分查找得到的。

### 5.2.2 二叉查找树和平衡二叉树

二叉查找树：左子树小于根，右子树大于根。
若想最大性能地构造一棵二叉查找树，需要这棵二叉查找树是平衡的。
平衡二叉树（AVL树）：首先符合二叉查找树，其次满足任何节点的两个子树的高度最大差为1.插入、更新和删除操作需要通过左旋和右旋来完成，具有一定的维护开销。

## 5.3 B+树

在B+树中，所有记录节点都是按键值的大小顺序存放在同一层的叶子节点上，由各叶子节点指针进行连接。
旋转发生在Leaf Page已经满，但是左右兄弟节点没有满的情况下。此时会将记录移到所在页的兄弟节点上，而不是做拆分页的操作。
